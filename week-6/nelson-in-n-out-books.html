<!--
  Title: nelson-in-n-out-books.html
  Author: Erik Nelson
  Date: 2/12/2023
  Description: Linking and Using JavaScript for In-N-Out Books Assignment
-->

<!DOCTYPE html>
<html lang="en">
    <head>
        <!--This head contains the file title, stylesheets/CSS links.-->
        <title>WEB 231 - Enterprise JavaScript I</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap" rel="stylesheet">
        <link href="../global.css" rel="stylesheet">
        <link href="../site.css" rel="stylesheet">
        <link href="nelson-in-n-out-books.css" rel="stylesheet">
      </head>

<body>
    <div id="container">
        <!--Main title of the assignment.-->
        <h1 class="app-header">Welcome to In-N-Out Books</h1>
        <!--Card Container for selection drop-down and button for results.-->
        <div id="card-container">
            <!--This is the beginning of the number sequence selection card.-->
            <div class="card">
                <!--This is the title for the number sequence selection card.-->
                <div class="card-title">My Favorites</div>
                <!--Card content: select dropdown and results button.-->
                <div class="card-content">
                    <div class="form">
                        <div class="form-field">
                            <!--This is the label for the drop down menu to select the number sequence.-->
                            <label for="favoriteList">Choose a listing:</label>
                            <!--This drop down menu will display four options to select.-->
                            <select id="favoriteList" class="drop-down-menu">
                                <option value="select">--Select--</option>
                                <option value="books">Top 3 Favorite Books</option>
                                <option value="authors">Top 3 Favorite Authors</option>
                            </select>
                        </div>
                        <div class="form-field">
                            <!--Button for users to click, which will display the results of the selected number sequence.-->
                            <button onclick="selectFavorite()" id="btnDisplayListing" class="btn btn-primary full-width">Display Listing</button>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
        <br>
        <!--Card to display the results of the selected number sequence.-->
        <div id="form-results">
            <div class="card" id="favorite-books">
                <!--This is the results card title.-->
                <div class="card-title" id="titleTable">Top 3 Favorite Books</div>
                <!--Results will appear here.-->
                <div class="card-content" id="tableContent">
                    <table id="books">
                        <tr>
                            <th>ISBN</th>
                            <th>Title</th>
                            <th>Pages</th>
                        </tr>
                        <tbody id="booksBody">

                        </tbody>
                    </table>
                </div>
            </div>
         
        </div>

        <div id="form-results">
            <div class="card" id="favorite-authors">
                <!--This is the title for the favorite Author listing, displayed in a table.-->
                <div class="card-title" id="titleTable">Top 3 Favorite Authors</div>
                <div class="card-content" id="tableContent">
                    <!--Start of Table, includes table headers of Name and Genre-->
                    <table id="books">
                        <tr>
                            <th>Name</th>
                            <th>Genre</th>
                        </tr>
                        <!--This is where the JavaScript loop will display the JSON data.-->
                        <tbody id="authorsBody">

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
         <!--This is the link that takes user back to the Landing Page.-->
         <a class= "return-home" href="../index.html">Return</a>

        <script>
                //Object literal arrays which will be converted to table.
                let books = [
                    {"isbn": "9780439708180", "title": "Harry Potter and the Sorcerer's Stone", "pages": "309"},
                    {"isbn": "9780062315007", "title": "The Alchemist", "pages": "208"},
                    {"isbn": "9780553103540", "title": "A Game of Thrones", "pages": "694"},
                ]
                
                let authors = [
                    {"name": "J.K. Rowling", "genre": "Fantasy"},
                    {"name": "Paulo Coelho", "genre": "Visionary Fiction"},
                    {"name": "George R.R. Martin", "genre": "Fantasy"}
                ]
                //Functions to display data in the HTML table.
                createBooksTable(books)
                createAuthorsTable(authors)
                //Start of function for the books table.
                function createBooksTable(data) {
                    let bTable = document.getElementById("booksBody")
                    //Loop to convert JSON data to its row.
                    for (let i = 0; i < data.length; i++){
                        let row =   `<tr>
                                        <td>${data[i].isbn}</td>
                                        <td>${data[i].title}</td>
                                        <td>${data[i].pages}</td>
                                    </tr>`
                        //Binds the function to the rows.
                        bTable.innerHTML += row
                    }
                }
                //Function for the books table.
                function createAuthorsTable(data){
                    let aTable = document.getElementById("authorsBody")
                    //Loop to convert JSON data to the rows.
                    for (let x = 0; x < data.length; x++){
                        let row =  `<tr>
                                        <td>${data[x].name}</td>
                                        <td>${data[x].genre}</td>    
                                    </tr>`
                        //Binds the function to the rows.
                        aTable.innerHTML += row
                    }
                }
                //Function to display the selection that the user chooses.
                function selectFavorite() {
                    let choice = document.getElementById("favoriteList").value;
                    //If user selects books, the page will display the books table, and will hide the authors table.
                    if (choice == "books") {
                        document.getElementById("favorite-authors").style.display = "none";
                        document.getElementById("favorite-books").style.display = "block";
                    //If user selects authors, the page will display the authors table, and will hide the books table.
                    } else if (choice == "authors") {
                        document.getElementById("favorite-authors").style.display = "block";
                        document.getElementById("favorite-books").style.display = "none";
                    //If user selects the select option, the page will display none of the tables.
                    } else if (choice == "select") {
                        document.getElementById("favorite-authors").style.display = "none";
                        document.getElementById("favorite-books").style.display = "none";
                    }
                }
            </script>
    </div>
</body>
</html>